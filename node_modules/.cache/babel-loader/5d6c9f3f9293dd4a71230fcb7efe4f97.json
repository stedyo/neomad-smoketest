{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseGeoPoint = _interopRequireDefault(require(\"./ParseGeoPoint\"));\n\nvar _ParsePolygon = _interopRequireDefault(require(\"./ParsePolygon\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseOp = require(\"./ParseOp\");\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n\nfunction encode(value\n/*: mixed*/\n, disallowObjects\n/*: boolean*/\n, forcePointers\n/*: boolean*/\n, seen\n/*: Array<mixed>*/\n, offline\n/*: boolean*/\n)\n/*: any*/\n{\n  if (value instanceof _ParseObject.default) {\n    if (disallowObjects) {\n      throw new Error('Parse Objects not allowed here');\n    }\n\n    const seenEntry = value.id ? value.className + ':' + value.id : value;\n\n    if (forcePointers || !seen || seen.indexOf(seenEntry) > -1 || value.dirty() || Object.keys(value._getServerData()).length < 1) {\n      if (offline && value._getId().startsWith('local')) {\n        return value.toOfflinePointer();\n      }\n\n      return value.toPointer();\n    }\n\n    seen = seen.concat(seenEntry);\n    return value._toFullJSON(seen, offline);\n  }\n\n  if (value instanceof _ParseOp.Op || value instanceof _ParseACL.default || value instanceof _ParseGeoPoint.default || value instanceof _ParsePolygon.default || value instanceof _ParseRelation.default) {\n    return value.toJSON();\n  }\n\n  if (value instanceof _ParseFile.default) {\n    if (!value.url()) {\n      throw new Error('Tried to encode an unsaved file.');\n    }\n\n    return value.toJSON();\n  }\n\n  if (Object.prototype.toString.call(value) === '[object Date]') {\n    if (isNaN(value)) {\n      throw new Error('Tried to encode an invalid date.');\n    }\n\n    return {\n      __type: 'Date',\n      iso: value\n      /*: any*/\n      .toJSON()\n    };\n  }\n\n  if (Object.prototype.toString.call(value) === '[object RegExp]' && typeof value.source === 'string') {\n    return value.source;\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(v => {\n      return encode(v, disallowObjects, forcePointers, seen, offline);\n    });\n  }\n\n  if (value && typeof value === 'object') {\n    const output = {};\n\n    for (const k in value) {\n      output[k] = encode(value[k], disallowObjects, forcePointers, seen, offline);\n    }\n\n    return output;\n  }\n\n  return value;\n}\n\nfunction _default(value\n/*: mixed*/\n, disallowObjects\n/*:: ?: boolean*/\n, forcePointers\n/*:: ?: boolean*/\n, seen\n/*:: ?: Array<mixed>*/\n, offline\n/*:: ?: boolean*/\n)\n/*: any*/\n{\n  return encode(value, !!disallowObjects, !!forcePointers, seen || [], offline);\n}","map":{"version":3,"sources":["/Users/szd/Dev/ycomms-smoketest-landing-page/node_modules/parse/lib/node/encode.js"],"names":["Object","defineProperty","exports","value","default","_default","_ParseACL","_interopRequireDefault","require","_ParseFile","_ParseGeoPoint","_ParsePolygon","_ParseObject","_ParseOp","_ParseRelation","obj","__esModule","encode","disallowObjects","forcePointers","seen","offline","Error","seenEntry","id","className","indexOf","dirty","keys","_getServerData","length","_getId","startsWith","toOfflinePointer","toPointer","concat","_toFullJSON","Op","toJSON","url","prototype","toString","call","isNaN","__type","iso","source","Array","isArray","map","v","output","k"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseGeoPoint = _interopRequireDefault(require(\"./ParseGeoPoint\"));\n\nvar _ParsePolygon = _interopRequireDefault(require(\"./ParsePolygon\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseOp = require(\"./ParseOp\");\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Copyright (c) 2015-present, Parse, LLC.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n\nfunction encode(value\n/*: mixed*/\n, disallowObjects\n/*: boolean*/\n, forcePointers\n/*: boolean*/\n, seen\n/*: Array<mixed>*/\n, offline\n/*: boolean*/\n)\n/*: any*/\n{\n  if (value instanceof _ParseObject.default) {\n    if (disallowObjects) {\n      throw new Error('Parse Objects not allowed here');\n    }\n\n    const seenEntry = value.id ? value.className + ':' + value.id : value;\n\n    if (forcePointers || !seen || seen.indexOf(seenEntry) > -1 || value.dirty() || Object.keys(value._getServerData()).length < 1) {\n      if (offline && value._getId().startsWith('local')) {\n        return value.toOfflinePointer();\n      }\n\n      return value.toPointer();\n    }\n\n    seen = seen.concat(seenEntry);\n    return value._toFullJSON(seen, offline);\n  }\n\n  if (value instanceof _ParseOp.Op || value instanceof _ParseACL.default || value instanceof _ParseGeoPoint.default || value instanceof _ParsePolygon.default || value instanceof _ParseRelation.default) {\n    return value.toJSON();\n  }\n\n  if (value instanceof _ParseFile.default) {\n    if (!value.url()) {\n      throw new Error('Tried to encode an unsaved file.');\n    }\n\n    return value.toJSON();\n  }\n\n  if (Object.prototype.toString.call(value) === '[object Date]') {\n    if (isNaN(value)) {\n      throw new Error('Tried to encode an invalid date.');\n    }\n\n    return {\n      __type: 'Date',\n      iso: value\n      /*: any*/\n      .toJSON()\n    };\n  }\n\n  if (Object.prototype.toString.call(value) === '[object RegExp]' && typeof value.source === 'string') {\n    return value.source;\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(v => {\n      return encode(v, disallowObjects, forcePointers, seen, offline);\n    });\n  }\n\n  if (value && typeof value === 'object') {\n    const output = {};\n\n    for (const k in value) {\n      output[k] = encode(value[k], disallowObjects, forcePointers, seen, offline);\n    }\n\n    return output;\n  }\n\n  return value;\n}\n\nfunction _default(value\n/*: mixed*/\n, disallowObjects\n/*:: ?: boolean*/\n, forcePointers\n/*:: ?: boolean*/\n, seen\n/*:: ?: Array<mixed>*/\n, offline\n/*:: ?: boolean*/\n)\n/*: any*/\n{\n  return encode(value, !!disallowObjects, !!forcePointers, seen || [], offline);\n}"]},"metadata":{},"sourceType":"script"}